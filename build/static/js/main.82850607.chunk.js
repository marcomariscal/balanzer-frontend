(this.webpackJsonpbalanzer=this.webpackJsonpbalanzer||[]).push([[0],{368:function(e,t,a){e.exports=a(726)},373:function(e,t,a){},382:function(e,t){},384:function(e,t){},397:function(e,t){},399:function(e,t){},427:function(e,t){},429:function(e,t){},430:function(e,t){},436:function(e,t){},438:function(e,t){},456:function(e,t){},458:function(e,t){},470:function(e,t){},473:function(e,t){},508:function(e,t,a){},510:function(e,t,a){},511:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},519:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},696:function(e,t,a){},697:function(e,t,a){},698:function(e,t,a){},714:function(e,t,a){},716:function(e,t,a){},717:function(e,t,a){},718:function(e,t,a){},719:function(e,t,a){},720:function(e,t,a){},721:function(e,t,a){},722:function(e,t,a){},723:function(e,t,a){},726:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),u=a.n(c),s=(a(373),a(3)),o=a.n(s),l=a(7),i=a(16),m=a(9),p=a(314);var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=localStorage.getItem(e)||t,r=Object(n.useState)(a),c=Object(i.a)(r,2),u=c[0],s=c[1];return Object(n.useEffect)((function(){u?localStorage.setItem(e,u):localStorage.removeItem(e)}),[e,u]),[u,s]},E=a(19),f=a(741),d=a(740),v=a(738),h=a(732);function O(e){return{type:"SHOW_ERRORS",msgs:e}}var g=a(4),y=a(315),j=a(316),N=a(103),S=a.n(N),A=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BASE_URL||"http://localhost:3001",x=function(){function e(){Object(y.a)(this,e)}return Object(j.a)(e,null,[{key:"request",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,r,c,u,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:{},n=s.length>2&&void 0!==s[2]?s[2]:"get",r=localStorage.getItem(rt),console.debug("API Call:",t,a,n),"get"===n?c=S.a.get("".concat(A,"/").concat(t),{params:Object(g.a)({_token:r},a)}):"post"===n?c=S.a.post("".concat(A,"/").concat(t),Object(g.a)({_token:r},a)):"patch"===n?c=S.a.patch("".concat(A,"/").concat(t),Object(g.a)({_token:r},a)):"delete"===n&&(c=S.a.delete("".concat(A,"/").concat(t),Object(g.a)({_token:r},a))),e.prev=5,e.next=8,c;case 8:return e.abrupt("return",e.sent.data);case 11:throw e.prev=11,e.t0=e.catch(5),console.error("API Error:",e.t0.response),u=e.t0.response.data.message,Array.isArray(u)?u:[u];case 16:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getExchanges",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("exchanges");case 2:return t=e.sent,e.abrupt("return",t.exchanges);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getExchangeAssets",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("exchanges/".concat(t,"/assets"));case 2:return a=e.sent,e.abrupt("return",a.assets);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getExchangeTickers",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("exchanges/".concat(t,"/tickers"));case 2:return a=e.sent,e.abrupt("return",a.tickers);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("login",t,"post");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users",t,"post");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.user);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUsers",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users");case 2:return t=e.sent,e.abrupt("return",t.users);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("userAccounts/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.accounts);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccount",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("userAccounts/".concat(t,"/").concat(a));case 2:return n=e.sent,e.abrupt("return",n.account);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createAccount",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("userAccounts/".concat(t),a,"post");case 2:return n=e.sent,e.abrupt("return",n.accountId);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteAccount",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("userAccounts/".concat(t,"/").concat(a,"/delete"),{},"post");case 2:return n=e.sent,e.abrupt("return",n.message);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAccountBalances",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,r,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:null,e.next=3,this.request("userAccounts/".concat(t,"/").concat(a,"/balances"),n);case 3:return r=e.sent,e.abrupt("return",r.balances);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAccountBalanceHistory",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("userAccounts/".concat(t,"/").concat(a,"/balanceHistory/?timeframe=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.balanceHistory);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getBacktestAssets",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("exchanges",t);case 2:return a=e.sent,e.abrupt("return",a.assets);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTrades",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a,n,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("".concat(t,"/").concat(a,"/trades"),{userId:n,accountId:r});case 2:return c=e.sent,e.abrupt("return",c.assets);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"updatePermissions",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t,"/permissions"),a,"post");case 2:return n=e.sent,e.abrupt("return",n.permissions);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getPermissions",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t,"/permissions"));case 2:return a=e.sent,e.abrupt("return",a.permissions);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTrade",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("userTrades/".concat(t,"/").concat(a,"/trades"),n,"post");case 2:return r=e.sent,e.abrupt("return",r.trade);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getRebalancePeriod",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("userAccounts/".concat(t,"/").concat(a,"/rebalancePeriod"));case 2:return n=e.sent,e.abrupt("return",n.rebalancePeriod);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"setRebalancePeriod",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("userAccounts/".concat(t,"/").concat(a,"/rebalancePeriod"),n,"post");case 2:return r=e.sent,e.abrupt("return",r.rebalancePeriod);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"rebalance",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("userAccounts/".concat(t,"/").concat(a,"/rebalance"),{},"post");case 2:return n=e.sent,e.abrupt("return",n.message);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getRebalanceStrategy",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("userAccounts/".concat(t,"/").concat(a,"/rebalanceStrategy"));case 2:return n=e.sent,e.abrupt("return",n.rebalanceStrategy);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"setRebalanceStrategy",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("userAccounts/".concat(t,"/").concat(a,"/rebalanceStrategy"),{rebalanceStrategy:{isDynamic:!1,allocations:n}},"post");case 2:return r=e.sent,e.abrupt("return",r.rebalanceStrategy);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"clearRebalanceStrategy",value:function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("userAccounts/".concat(t,"/").concat(a,"/clearRebalanceStrategy"),{},"post");case 2:return n=e.sent,e.abrupt("return",n.rebalanceStrategy);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();function T(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SHOW_SPINNER"}),t.prev=1,t.next=4,x.getExchangeAssets(e);case 4:return n=t.sent,a({type:"FETCH_EXCHANGE_ASSETS",assets:n}),t.abrupt("return",a({type:"END_SHOW_SPINNER"}));case 9:t.prev=9,t.t0=t.catch(1),a({type:"END_SHOW_SPINNER"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}function _(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){var n,r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SHOW_SPINNER"}),t.prev=1,t.next=4,x.register(e);case 4:return n=t.sent,r=n.user,t.next=8,x.getUser(r.username);case 8:return c=t.sent,a(R(c)),a(C()),t.abrupt("return",a({type:"END_SHOW_SPINNER"}));case 14:t.prev=14,t.t0=t.catch(1),a(O(t.t0)),a({type:"END_SHOW_SPINNER"});case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()}function w(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){var n,r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SHOW_SPINNER"}),t.prev=1,t.next=4,x.login(e);case 4:return n=t.sent,r=n.user,t.next=8,x.getUser(r.username);case 8:return c=t.sent,a(B(c.username)),a(C()),t.abrupt("return",a({type:"END_SHOW_SPINNER"}));case 14:t.prev=14,t.t0=t.catch(1),a(O(t.t0)),a({type:"END_SHOW_SPINNER"});case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()}function C(){return{type:"AUTH_SUCCESS"}}function R(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a(k(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function k(e){return{type:"UPDATE_CURRENT_USER",user:e}}function D(e){return{type:"FETCH_ACCOUNTS",accounts:e}}function P(e){return{type:"ACCOUNT_DELETED",accountId:e}}function U(){return{type:"END_CREATE_ACCOUNT"}}function I(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(L(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function L(e){return{type:"ACCOUNT_CREATED_SUCCESS",accountName:e}}function H(e){return{type:"FETCH_BALANCES",balances:e}}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var a=Object(l.a)(o.a.mark((function a(n){var r,c,u,s,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"SHOW_SPINNER"}),n({type:"RESET_ERRORS"}),a.prev=2,a.next=5,x.getUser(e);case 5:return r=a.sent,n(R(r)),a.next=9,x.getAccounts(r.username);case 9:if(0!==(c=a.sent).length){a.next=14;break}return n(M(r.username)),n({type:"END_SHOW_SPINNER"}),a.abrupt("return");case 14:return n(D(c)),u=t||c[0].id,a.next=18,x.getAccount(r.username,u);case 18:return s=a.sent,n(V(s)),a.next=22,x.getAccountBalances(r.username,u);case 22:return l=a.sent,n(H(l)),n(F(r.username)),n(T(s.exchange)),n(W()),a.abrupt("return",n({type:"END_SHOW_SPINNER"}));case 30:return a.prev=30,a.t0=a.catch(2),n(O()),a.abrupt("return",n({type:"END_SHOW_SPINNER"}));case 34:case"end":return a.stop()}}),a,null,[[2,30]])})));return function(e){return a.apply(this,arguments)}}()}function M(){return{type:"RESET_USER_ACCOUNT_INFO"}}function W(){return{type:"USER_DATA_UPDATED"}}function F(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SHOW_SPINNER"}),t.prev=1,t.next=4,x.getPermissions(e);case 4:return n=t.sent,a({type:"FETCH_PERMISSIONS",permissions:n}),t.abrupt("return",a({type:"END_SHOW_SPINNER"}));case 9:t.prev=9,t.t0=t.catch(1),a({type:"END_SHOW_SPINNER"}),a(O(t.t0));case 13:return t.abrupt("return",a({type:"END_SHOW_SPINNER"}));case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}function q(e,t){return function(){var a=Object(l.a)(o.a.mark((function a(n){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,x.updatePermissions(e,t);case 2:return r=a.sent,a.abrupt("return",n({type:"PERMISSIONS_UPDATED",permissions:r}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}function V(e){return{type:"UPDATE_CURRENT_ACCOUNT",account:e}}function K(e,t){return function(){var a=Object(l.a)(o.a.mark((function a(n){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,x.getRebalancePeriod(e,t);case 2:r=a.sent,n({type:"FETCH_REBALANCE_PERIOD",rebalancePeriod:r});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}function G(e){return{type:"REBALANCE_PERIOD_UPDATED",rebalancePeriod:e}}function Y(e,t){return function(){var a=Object(l.a)(o.a.mark((function a(n){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,x.getRebalanceStrategy(e,t);case 2:r=a.sent,n({type:"FETCH_REBALANCE_STRATEGY",rebalanceStrategy:r});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}var z=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.currentUser})),a=t.accounts,n=t.currentAccount,c=t.notCurrentAccounts,u=function(t){var a,n=t.target.value;e((a=n,function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(V(a)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},s=c.length?c.map((function(e){return r.a.createElement(v.a.Item,{key:e.id,onClick:u,title:e.exchange,className:"text-center",value:e.exchange},r.a.createElement(h.a,{className:"mx-2",src:e.icon,alt:e.exchange}),e.exchange)})):null;return n&&a.length?r.a.createElement(v.a,{title:n.exchange,id:"collasible-nav-dropdown"},s,r.a.createElement(v.a.Item,{as:E.b,to:"/exchanges",className:"text-center"},"+ Add Account")):r.a.createElement(v.a,{title:"Add Exchange",id:"collasible-nav-dropdown"},r.a.createElement(v.a.Item,{as:E.b,to:"/exchanges",className:"text-center"},"+ Add Account"))},X=a(20),J=a(733),$=function(){return r.a.createElement("div",{className:"Spinner"},r.a.createElement(J.a,{className:"loading-icon",animation:"grow"}))},Q=(a(508),a(33)),Z=a(34),ee=a(194),te=a.n(ee),ae=(a(510),function(e){var t=e.className,a=e.submitFunc,n=e.textDisabled,c=e.textPrimary,u=e.loadingText,s=e.disabled,o=e.loading;return r.a.createElement("button",{className:"PrimaryButton ".concat(t||""," ").concat(s?" disabled":""),type:"submit",onClick:a,disabled:s&&s},o&&r.a.createElement(J.a,{as:"span",className:"mx-2",variant:"light",animation:"border",size:"sm"}),o?u:r.a.createElement("span",null,s?n:c))}),ne=function(){var e=Object(X.g)(),t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],u=a[1],s=Object(n.useState)(!1),p=Object(i.a)(s,2),b=p[0],E=p[1],f=Object(n.useState)(!1),d=Object(i.a)(f,2),h=d[0],g=d[1],y=Object(m.d)((function(e){return e.currentUser})),j=y.user,N=y.permissions,S=y.currentAccount,A=Object(m.c)();return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(F(j.username));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),N?r.a.createElement(v.a,{title:r.a.createElement(Q.a,{icon:Z.d}),id:"settings-dropdown",className:"SettingsDropDown"},r.a.createElement(v.a.Item,{className:"settings-dropdown-item"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},b?r.a.createElement($,null):r.a.createElement("label",null,r.a.createElement("span",{className:"setting-span"},"Account View Enabled"),r.a.createElement(te.a,{className:"react-switch",onColor:"#00d897",onChange:function(e){E(!0);var t={account:e,trade:N.trade};A(q(j.username,t)),E(!1)},checked:N.account,height:25,width:45,handleDiameter:18})))),r.a.createElement(v.a.Item,{className:"settings-dropdown-item"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},c?r.a.createElement($,null):r.a.createElement("label",null,r.a.createElement("span",{className:"setting-span"},"Trading Enabled"),r.a.createElement(te.a,{className:"react-switch",onColor:"#00d897",onChange:function(e){u(!0);var t={trade:e,account:N.account};A(q(j.username,t)),u(!1)},checked:N.trade,height:25,width:45,handleDiameter:18})))),r.a.createElement(v.a.Item,{className:"settings-dropdown-item"},r.a.createElement("div",{className:"delete-button-wrapper",onClick:function(e){return e.stopPropagation()}},r.a.createElement("label",null,r.a.createElement("span",{className:"setting-span"},"Delete Exchange Connection"),r.a.createElement(ae,{className:"delete-button",submitFunc:function(t){var a,n;g(!0),A((a=j.username,n=S.id,function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.deleteAccount(a,n);case 3:return t(P(n)),e.abrupt("return",t(B(a)));case 7:e.prev=7,e.t0=e.catch(0),t(O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),e.push("/dashboard"),g(!1)},textPrimary:"Delete",loadingText:"Deleting...",loading:h}))))):null},re=(a(511),function(e){var t=e.logout,a=Object(m.d)((function(e){return e.currentUser})).user,n=r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:"mr-auto"},r.a.createElement(f.a.Link,{as:E.b,to:"/dashboard"},r.a.createElement("span",null,r.a.createElement(Q.a,{className:"mr-1",icon:Z.h})),"Dashboard"),r.a.createElement(f.a.Link,{as:E.b,to:"/automate"},r.a.createElement("span",null,r.a.createElement(Q.a,{className:"mr-1",icon:Z.c})),"Automate"),r.a.createElement(f.a.Link,{as:E.b,to:"/trade"},r.a.createElement("span",null,r.a.createElement(Q.a,{className:"mr-1",icon:Z.g})),"Trade"),r.a.createElement(f.a.Link,{as:E.b,to:"/backtest"},r.a.createElement("span",null,r.a.createElement(Q.a,{className:"mr-1",icon:Z.e})),"Backtest")),r.a.createElement(f.a,{className:"navbar right-side"},r.a.createElement(z,null),r.a.createElement(ne,null),r.a.createElement(f.a.Link,{as:E.b,to:"/logout",onClick:t},"Logout"))),c=r.a.createElement(f.a,{className:"ml-auto"},r.a.createElement(f.a.Link,{as:E.b,to:"/login"},"Login"));return r.a.createElement("div",{className:"Navigation"},r.a.createElement(d.a,null,r.a.createElement(d.a.Brand,{as:E.b,to:"/"},"Balanzer"),a?n:c))}),ce=a(318);a(513);var ue=function(){var e=Object(m.d)((function(e){return e.currentUser})).user;return r.a.createElement("div",{className:"Home"},r.a.createElement("div",{className:"container text-center justify-content-center"},r.a.createElement("p",{className:"lead"},"Cryptocurrency Investing Made Easy"),e?null:r.a.createElement(ce.a,{as:E.b,className:"login-button",to:"/login"},"Log in")))};var se=function(e){var t=e.exact,a=e.path,n=e.children;return Object(m.d)((function(e){return e.currentUser})).user?r.a.createElement(X.b,{exact:t,path:a},n):r.a.createElement(X.a,{to:"/"})},oe=a(50);a(514);function le(e){var t=e.type,a=e.messages;return r.a.createElement("div",{className:"alert alert-".concat(t),role:"alert"},a.map((function(e){return r.a.createElement("p",{className:"mb-0 small",key:e},e)})))}le.defaultProps={type:"danger",messages:[]};var ie=le;var me=function(e){var t=e.setToken,a=Object(m.c)(),c=Object(X.g)(),u=Object(n.useState)(!1),s=Object(i.a)(u,2),p=s[0],b=s[1],E=Object(n.useState)("login"),f=Object(i.a)(E,2),d=f[0],v=f[1],h=Object(n.useState)({username:"",password:"",email:"",formErrors:[]}),O=Object(i.a)(h,2),y=O[0],j=O[1];function N(e){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(o.a.mark((function e(n){var r,u,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),"signup"===d?(r={username:y.username,password:y.password,email:y.email},u="register"):(r={username:y.username,password:y.password},u="login"),b(!0),e.prev=3,"login"!==u){e.next=11;break}return e.next=7,x.login(r);case 7:s=e.sent,a(w(r)),e.next=15;break;case 11:return e.next=13,x.register(r);case 13:s=e.sent,a(_(r));case 15:t(s.token),b(!1),c.push("/dashboard"),e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(3),b(!1),e.abrupt("return",j((function(t){return Object(g.a)(Object(g.a)({},t),{},{formErrors:e.t0})})));case 24:case"end":return e.stop()}}),e,null,[[3,20]])})))).apply(this,arguments)}function A(e){var t=e.target,a=t.name,n=t.value;j((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(oe.a)({},a,n))}))}var T="login"===d,C=r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",name:"email",className:"form-control",value:y.email,onChange:A})));return r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"login-signup-buttons"},r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{className:"btn btn-login ".concat(T?"active":""," "),onClick:function(){v("login")}},"Login"),r.a.createElement("button",{className:"btn btn-signup ".concat(T?"":"active"," "),onClick:function(){v("signup")}},"Sign up"))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:N},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{name:"username",className:"form-control",value:y.username,onChange:A})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",className:"form-control",value:y.password,onChange:A})),T?"":C,y.formErrors.length?r.a.createElement(ie,{type:"danger",messages:y.formErrors}):null,r.a.createElement(ae,{submitFunc:N,textDisabled:T?"Log in":"Sign Up",textPrimary:T?"Log in":"Sign Up",loadingText:T?"Logging in":"Signing Up",disabled:!1,loading:p})))))};function pe(){return function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SHOW_SPINNER"}),e.prev=1,e.next=4,x.getExchanges();case 4:return a=e.sent,t({type:"FETCH_EXCHANGES",exchanges:a}),e.abrupt("return",t({type:"END_SHOW_SPINNER"}));case 9:e.prev=9,e.t0=e.catch(1),t({type:"END_SHOW_SPINNER"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}var be=a(742),Ee=(a(515),function(e){var t=e.name,a=e.icon;return r.a.createElement("div",{className:"Exchange"},r.a.createElement(E.b,{to:"/exchanges/".concat(t)},r.a.createElement(be.a,null,r.a.createElement(h.a,{className:"exchange-img",src:a,alt:t,style:{width:"32px",height:"32px"}}),r.a.createElement(be.a.Body,null,t))))}),fe=(a(516),a(734)),de=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.general})).loading,a=Object(m.d)((function(e){return e.exchanges}));return Object(n.useEffect)((function(){function t(){return(t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(pe());case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),r.a.createElement("div",{className:"Exchanges container text-center justify-content-center"},t?r.a.createElement($,null):r.a.createElement(fe.a,null,a.length?a.map((function(e,t){return r.a.createElement(Ee,{key:t,name:e.exchange,icon:e.icon})})):null))},ve=a(739),he=["coinbasepro","kucoin"],Oe=(a(517),function(e){var t=e.exchangeName,a=Object(m.c)(),c=Object(X.g)(),u=Object(m.d)((function(e){return e.currentUser})),s=u.user,p=u.creatingAccount,b=-1!==he.indexOf(t),E=Object(n.useState)({publicKey:"",privateKey:"",passphrase:"",formErrors:[]}),f=Object(i.a)(E,2),d=f[0],v=f[1],h=Object(n.useState)(!0),y=Object(i.a)(h,2),j=y[0],N=y[1],S=function(e){N(!1);var t=e.target,a=t.name,n=t.value;v((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(oe.a)({},a,n))}))};return r.a.createElement("div",{className:"ExchangeConnectionForm"},r.a.createElement("form",{autoComplete:"off"},r.a.createElement(ve.a.Group,null,r.a.createElement(ve.a.Label,null,"Public Api Key"),r.a.createElement(ve.a.Control,{onChange:S,type:"text",placeholder:"Enter public API key",value:d.publicKey,name:"publicKey"})),r.a.createElement(ve.a.Group,null,r.a.createElement(ve.a.Label,null,"Private Api Key"),r.a.createElement(ve.a.Control,{onChange:S,type:"password",placeholder:"Enter private API key",value:d.privateKey,name:"privateKey"})),b&&r.a.createElement(ve.a.Group,null,r.a.createElement(ve.a.Label,null,"Passphrase"),r.a.createElement(ve.a.Control,{onChange:S,type:"password",placeholder:"Enter passphrase",value:d.passphrase,name:"passphrase"}),r.a.createElement(ve.a.Text,{className:"text-muted"},r.a.createElement("span",null,"Sometimes known as API secret or secret passphrase"))),d.formErrors.length?r.a.createElement(ie,{type:"danger",messages:d.formErrors}):null,r.a.createElement(ae,{submitFunc:function(e){e.preventDefault();var n=d.publicKey,r=d.privateKey,u=d.passphrase,i=s.username,m={userId:s.shrimpy_user_id,exchangeName:t,publicKey:n,privateKey:r,passphrase:u};try{a(function(e,t){return function(){var a=Object(l.a)(o.a.mark((function a(n){var r,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"START_CREATE_ACCOUNT"}),a.prev=1,a.next=4,x.createAccount(e,t);case 4:return r=a.sent,a.next=7,x.getAccount(r);case 7:return c=a.sent,B(e,r),n(I(c.exchange)),a.abrupt("return",n(U()));case 13:a.prev=13,a.t0=a.catch(1),n(U()),n(O(a.t0));case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}()}(i,m)),c.push("/dashboard")}catch(p){v((function(e){return Object(g.a)(Object(g.a)({},e),{},{formErrors:[p]})}))}},textDisabled:"Connect to ".concat(t),textPrimary:"Connect to ".concat(t),loadingText:"Connecting...",disabled:j,loading:p})))}),ge=function(){var e=Object(X.h)().exchangeName;return r.a.createElement("div",{className:"ExchangeConnection text-center justify-content-center"},r.a.createElement(Oe,{exchangeName:e}))},ye=(a(518),function(e){var t=e.loading,a=e.title,n=e.subTitle;return r.a.createElement("div",{className:"Summary"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"subtitle"},n),t?r.a.createElement($,null):r.a.createElement("div",{className:"title"},a)))}),je=function(e){return"$".concat(e.toFixed(2))},Ne=function(e){return"".concat(e.toFixed(5))},Se=a(735),Ae=(a(519),function(e){var t=e.symbol,a="/crypto-logos/".concat(t,".svg"),n="/crypto-logos/".concat(t,".svg");return r.a.createElement(h.a,{className:"mx-2",src:a||n,alt:t,onError:function(e){e.target.onerror=null,e.target.src="/crypto-logos/cc.svg"}})}),xe=(a(520),function(e){var t=e.symbol,a=e.value;return r.a.createElement("tr",{className:"TableItem"},r.a.createElement("td",null,r.a.createElement(Ae,{symbol:t}),r.a.createElement("span",null,t)),r.a.createElement("td",null,a))}),Te=function(e){var t=e.handleToggle,a=e.initialValue,n=e.textPrimary,c=e.textSecondary,u=a?n:c;return r.a.createElement("div",{className:"Toggle"},r.a.createElement(ce.a,{className:"Toggle button",onClick:t},u))},_e=(a(521),function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],u=Object(m.d)((function(e){return e.currentUser})).balances,s=u&&u.map((function(e){return r.a.createElement(xe,{key:e.symbol,symbol:e.symbol,value:a?je(e.usdValue):Ne(e.nativeValue)})}));return r.a.createElement("div",{className:"BalancesTable"},r.a.createElement(Te,{handleToggle:function(){c(!a)},initialValue:a,textPrimary:"Toggle Native",textSecondary:"Toggle USD"}),r.a.createElement(Se.a,null,r.a.createElement("tbody",null,s)))}),we=a(106),Ce=(a(696),function(){var e=Object(m.d)((function(e){return e.currentUser})),t=e.balanceHistory,a=e.user,c=e.currentAccount,u=Object(n.useState)("All"),s=Object(i.a)(u,2),p=s[0],b=s[1],E=Object(m.c)(),f=function(e){e.persist(),b(e.target.value)};Object(n.useEffect)((function(){E(function(e,t,a){return function(){var n=Object(l.a)(o.a.mark((function n(r){var c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.getAccountBalanceHistory(e,t,a);case 2:c=n.sent,r({type:"FETCH_BALANCE_HISTORY",balanceHistory:c});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(a.username,c.id,p))}),[E,p,c.id,a.username]);var d=r.a.createElement("div",{className:"period-menu"},r.a.createElement("div",null,"Portfolio Performance"),r.a.createElement("div",{className:"period-menu-switcher"},["D","W","M","Y","All"].map((function(e,t){return r.a.createElement("button",{key:t,className:"timeframe-button ".concat(p===e?"active":""),onClick:f,value:e},e)})))),v=r.a.createElement(we.b,{data:t,margin:{right:5,left:5},width:500,height:250},r.a.createElement(we.d,{dataKey:"date"}),r.a.createElement(we.c,null),r.a.createElement(we.a,{type:"monotone",dataKey:"usdValue",stroke:"#00d897"}));return r.a.createElement("div",{className:"BalanceChart"},d,v)}),Re=(a(697),function(){var e=Object(m.d)((function(e){return e.currentUser})),t=e.currentAccount,a=e.totalBalanceUSD,n=Object(m.d)((function(e){return e.general})).loading;return t?r.a.createElement("div",{className:"Dashboard container text-center"},n?r.a.createElement($,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,{title:a,subTitle:"Portfolio Balance"}),r.a.createElement("div",{className:"balances-table-wrapper"},r.a.createElement(_e,null),r.a.createElement(Ce,null)))):r.a.createElement("div",{className:"Dashboard container text-center"},r.a.createElement("h2",null,"Please connect to an account"))}),ke=a(45),De=new Map([[1,"hour"],[24,"day"],[168,"week"],[336,"two weeks"],[720,"month"],[0,"none"]]);function Pe(){return function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"SHOW_REBALANCE_ASSET_SELECT_MODAL"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Ue(){return function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"CLOSE_REBALANCE_PERIOD_MODAL"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Ie(){return function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"CLOSE_REBALANCE_ASSET_SELECT_MODAL"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var Le=a(737),He=(a(698),function(e){var t=e.handleSubmit,a=e.showModal,n=e.closeModal;return r.a.createElement(Le.a,{scrollable:!0,className:"RebalancePeriodSelectModal",show:a,onHide:n,centered:!0},r.a.createElement(Le.a.Header,{closeButton:!0},r.a.createElement(Le.a.Title,null,"Choose Rebalance Period")),r.a.createElement(Le.a.Body,null,Object(ke.a)(De.values()).map((function(e){return r.a.createElement("div",{className:"asset-picker-modal-row",key:e},r.a.createElement(ce.a,{name:e,value:e,onClick:t},r.a.createElement("span",{className:"symbol mx-1"},e)))}))))}),Be=a(328),Me=a.n(Be),We=(a(714),a(715),function(e){var t=e.asset,a=e.icon,c=e.targetAllocation,u=e.actualAllocation,s=e.name,o=e.value,l=e.handleChange,m=e.handleChangeComplete,p=Object(n.useState)({name:s,value:c}),b=Object(i.a)(p,2),E=b[0],f=b[1];return r.a.createElement("div",{className:"EditBarTableItem"},r.a.createElement("div",{className:"title"},r.a.createElement("div",null,a),r.a.createElement("div",null,t)),r.a.createElement("div",{className:"bar"},r.a.createElement(Me.a,{maxValue:100,minValue:0,name:s,value:E.value,onChange:function(e){f((function(t){return Object(g.a)(Object(g.a)({},t),{},{value:e})})),l(s,e)},onChangeComplete:m})),r.a.createElement("div",{className:"bar-value"},r.a.createElement("div",{className:"bar-actual-value"},"".concat(u,"%")),r.a.createElement("div",{className:"bar-target-value"},"".concat(o,"%"))))}),Fe=function(e){var t=e.reduce((function(e,t){return e+t.usdValue}),0);return je(t)},qe=function(e,t){var a=e.filter((function(e){return e.symbol===t}))[0]?e.filter((function(e){return e.symbol===t}))[0].nativeValue:0;return Ne(a)},Ve=(a(716),function(e){var t=e.handleAssetSelect,a=e.showModal,n=e.closeModal,c=Object(m.d)((function(e){return e.assets})),u=Object(m.d)((function(e){return e.currentUser})).balances,s=Object(m.d)((function(e){return e.trades.modalType}));return r.a.createElement(Le.a,{scrollable:!0,className:"AssetPickerModal",show:a,onHide:n,centered:!0},r.a.createElement(Le.a.Header,{closeButton:!0},r.a.createElement(Le.a.Title,null,"Choose Asset")),r.a.createElement(Le.a.Body,null,c.map((function(e){return r.a.createElement("div",{className:"asset-picker-modal-row",key:e.id},r.a.createElement(ce.a,{name:s,value:e.symbol,onClick:t},r.a.createElement(Ae,{symbol:e.symbol}),r.a.createElement("span",{className:"symbol mx-1"},e.symbol),r.a.createElement("span",{className:"token-balance mx-3"},qe(u,e.symbol))))}))))}),Ke=(a(717),function(e){var t=e.cancelEdit,a=e.rebalanceStrategyForm,c=e.setRebalanceStrategy,u=e.handleAddAsset,s=e.submitStrategy,o=Object(m.c)(),l=Object(m.d)((function(e){return e.rebalance})).showRebalanceAssetSelectModal,p=Object(m.d)((function(e){return e.general})).loading,b=Object(n.useState)(!0),E=Object(i.a)(b,2),f=E[0],d=E[1],v=function(e,t){c(a.map((function(a){return a.symbol===e?Object(g.a)(Object(g.a)({},a),{},{symbol:e,allocationPct:t}):a})))},h=function(e,t){var n=a.reduce((function(e,t){return e+t.allocationPct}),0);d(100!==n)};return r.a.createElement("div",{className:"barchart-wrapper"},r.a.createElement("form",{autoComplete:"false"},r.a.createElement("div",{className:"barchart-header"},r.a.createElement(Te,{handleToggle:t,initialValue:"Cancel",textPrimary:"Cancel",textSecondary:"Cancel"}),r.a.createElement(ce.a,{onClick:function(){o(Pe())},className:"add-asset-button"},"Add Asset"),r.a.createElement("div",{className:"barchart-right-title"},r.a.createElement("div",{className:"barchart-right-title-item"},"Actual"),r.a.createElement("div",{className:"barchart-right-title-item"},"Target"))),r.a.createElement("div",{className:"BarTable"},a.map((function(e){return r.a.createElement(We,{key:e.symbol,asset:e.symbol,icon:r.a.createElement(Ae,{symbol:e.symbol}),targetAllocation:e.allocationPct,actualAllocation:e.actualPctOfTotal,handleChange:v,handleChangeComplete:h,name:e.symbol,value:e.allocationPct})}))),r.a.createElement(Ve,{showModal:l,closeModal:function(){return o(Ie())},handleAssetSelect:function(e){u(e.target.value)}}),r.a.createElement(ae,{submitFunc:s,textDisabled:"Percentages must add up to 100%",textPrimary:"Edit Strategy",loadingText:"Editing Strategy",disabled:f,loading:p})))}),Ge=(a(718),function(e){var t=e.asset,a=e.icon,n=e.targetAllocation,c=e.actualAllocation;return r.a.createElement("div",{className:"BarTableItem"},r.a.createElement("div",{className:"title"},r.a.createElement("div",null,a),r.a.createElement("div",null,t)),r.a.createElement("div",{className:"bar"},r.a.createElement("div",{className:"bar-fill",style:{width:"".concat(c,"%")}})),r.a.createElement("div",{className:"bar-value"},r.a.createElement("div",{className:"bar-actual-value"},"".concat(c,"%")),r.a.createElement("div",{className:"bar-target-value"},"".concat(n,"%"))))}),Ye=(a(719),function(e){var t=e.handleEdit,a=e.rebalanceStrategyForm,n=e.handleAddAsset,c=Object(m.d)((function(e){return e.rebalance})).showRebalanceAssetSelectModal,u=Object(m.c)();return r.a.createElement("div",{className:"barchart-wrapper"},r.a.createElement("div",{className:"barchart-header"},r.a.createElement(Te,{handleToggle:t,initialValue:"Edit Strategy",textPrimary:"Edit Strategy",textSecondary:"Cancel"}),r.a.createElement(ce.a,{onClick:function(){u(Pe())},className:"add-asset-button"},"Add Asset"),r.a.createElement("div",{className:"barchart-right-title"},r.a.createElement("div",{className:"barchart-right-title-item"},"Actual"),r.a.createElement("div",{className:"barchart-right-title-item"},"Target"))),r.a.createElement("div",{className:"BarTable"},a.map((function(e){return r.a.createElement(Ge,{key:e.symbol,asset:e.symbol,icon:r.a.createElement(Ae,{symbol:e.symbol}),targetAllocation:e.allocationPct,actualAllocation:e.actualPctOfTotal})})),r.a.createElement(Ve,{showModal:c,closeModal:function(){return u(Ie())},handleAssetSelect:function(e){n(e.target.value)}})))}),ze=(a(720),function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.currentUser})),a=t.user,c=t.currentAccount,u=t.rebalanceStrategy,s=t.rebalancePeriod,p=t.totalBalanceUSD,b=t.balances,E=Object(m.d)((function(e){return e.general})).loading,f=Object(m.d)((function(e){return e.rebalance})).showRebalancePeriodModal,d=Object(n.useState)(!1),v=Object(i.a)(d,2),h=v[0],O=v[1],g=Object(n.useState)(b),y=Object(i.a)(g,2),j=y[0],N=y[1],S=function(t){N((function(e){return[].concat(Object(ke.a)(e),[{symbol:t,allocationPct:0,actualPctOfTotal:0}])})),e(Ie())};Object(n.useEffect)((function(){function t(){return(t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(K(a.username,c.id)),e(Y(a.username,c.id));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[s,c.id,e,a.username]);var A=function(e){O((function(e){return!e}))},T=0===s?"None":De.has(s)?De.get(s):"".concat(s," hours");return c?r.a.createElement("div",{className:"Automate container text-center"},r.a.createElement("div",{className:"summary"},r.a.createElement("button",{className:"summary-rebalance-period",onClick:function(){e(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"SHOW_REBALANCE_PERIOD_MODAL"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},r.a.createElement("div",{className:"edit-icon-wrapper"},r.a.createElement(Q.a,{icon:Z.f,className:"edit-icon"})),r.a.createElement(ye,{title:T,subTitle:"Current Rebalance Period",loading:E})),r.a.createElement(ye,{title:p,subTitle:"Portfolio Balance"})),r.a.createElement(He,{showModal:f,closeModal:function(){return e(Ue())},handleSubmit:function(t){e(function(e,t,a){return function(){var n=Object(l.a)(o.a.mark((function n(r){var c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"SHOW_SPINNER"}),n.prev=1,n.next=4,x.setRebalancePeriod(e,t,a);case 4:return c=n.sent,r(G(c)),n.abrupt("return",r({type:"END_SHOW_SPINNER"}));case 9:n.prev=9,n.t0=n.catch(1),r({type:"END_SHOW_SPINNER"});case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(a.username,c.id,{rebalancePeriod:t.target.value})),e(Ue())}}),r.a.createElement("div",{className:"bartable-wrapper"},h?r.a.createElement(Ke,{rebalanceStrategyForm:j,cancelEdit:A,handleAddAsset:S,rebalanceStrategy:u,setRebalanceStrategy:N,submitStrategy:function(t){t.preventDefault();var n=j.map((function(e){return{symbol:e.symbol,percent:e.allocationPct.toString()}}));n=n.filter((function(e){return"0"!==e.percent})),e(function(e,t,a){return function(){var n=Object(l.a)(o.a.mark((function n(r){var c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"SHOW_SPINNER"}),n.prev=1,n.next=4,x.setRebalanceStrategy(e,t,a);case 4:return c=n.sent,r({type:"REBALANCE_STRATEGY_UPDATED",rebalanceStrategy:c}),n.abrupt("return",r({type:"END_SHOW_SPINNER"}));case 9:n.prev=9,n.t0=n.catch(1),r({type:"END_SHOW_SPINNER"});case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(a.username,c.id,n)),e(B(a.username,c.id))}}):r.a.createElement(Ye,{handleEdit:A,rebalanceStrategyForm:j,handleAddAsset:S}))):r.a.createElement("div",{className:"Dashboard container text-center"},r.a.createElement("h2",null,"Please connect to an account"))}),Xe=a(329),Je=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,r,c,u,s,l,i,m,p,b=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b.length>2&&void 0!==b[2]?b[2]:1,r=b.length>3?b[3]:void 0,t!==a){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,x.getExchangeTickers(r);case 6:c=e.sent,l=Object(Xe.a)(c);try{for(l.s();!(i=l.n()).done;)(m=i.value).symbol===t&&(u=m.priceUsd),m.symbol===a&&(s=m.priceUsd)}catch(o){l.e(o)}finally{l.f()}return p=u*n/s,e.abrupt("return",Ne(p));case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$e=a(736),Qe=a(319);a(721);var Ze=function(e){var t=e.asset,a=e.type,n=e.value,c=e.balance,u=e.onValueChange,s=e.onAssetChange,i=e.onMaxValueSelect,p=e.disabled,b=Object(m.d)((function(e){return e.trades})).showTradeModal,E=Object(m.c)();return r.a.createElement("div",{className:"SwapAsset"},r.a.createElement("div",{className:"top-wrapper"},r.a.createElement("p",null,"input"===a?"From":"To (estimate)"),r.a.createElement("p",null,"Balance: ",c)),r.a.createElement("div",{className:"bottom-wrapper"},r.a.createElement($e.a,{className:"token-amount"},r.a.createElement(Qe.a,{className:"token-amount-input",placeholder:"0.0",name:a,value:n,asset:t,onChange:u,disabled:p})),"input"===a&&r.a.createElement(ce.a,{onClick:i,className:"max-button"},"Max"),r.a.createElement(ce.a,{className:"Select a token"===t?"asset-not-selected-button":"asset-select-button",onClick:function(){E({type:"SHOW_TRADE_MODAL"}),E(function(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a({type:"UPDATE_MODAL_TYPE",modalType:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))}},r.a.createElement("span",{className:"token-symbol-container"},"Select a token"!==t&&r.a.createElement(Ae,{symbol:t}),r.a.createElement("span",{className:"token-symbol"},t),r.a.createElement(Q.a,{icon:Z.a})))),r.a.createElement(Ve,{showModal:b,closeModal:function(){return E({type:"CLOSE_TRADE_MODAL"})},handleAssetSelect:s}))},et=(a(722),function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.currentUser})).balances,a=Object(m.d)((function(e){return e.trades})).submittingTrade,c=Object(m.d)((function(e){return e.currentUser}),m.b),u=Object(n.useState)({input:{asset:"ETH",value:"0.0"},output:{asset:"Select a token",value:"0.0"},tradeErrors:[]}),s=Object(i.a)(u,2),p=s[0],b=s[1],E=Object(n.useState)(!0),f=Object(i.a)(E,2),d=f[0],v=f[1],h=p.input,y=p.output,j=function(e){var t=e.target,a=t.name,n=t.value;b((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(oe.a)({},a,Object(g.a)(Object(g.a)({},e[a]),{},{value:n})))})),v(!1)},N=function(t){var a=t.target,n=a.name,r=a.value;b((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(oe.a)({},n,Object(g.a)(Object(g.a)({},e[n]),{},{asset:r})))})),e({type:"CLOSE_TRADE_MODAL"})},S=t?qe(t,p.input.asset):0,A=t?qe(t,p.output.asset):0;return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=5;break}return e.next=3,Je(h.asset,y.asset,h.value,c.currentAccount.exchange);case 3:t=e.sent,b((function(e){return Object(g.a)(Object(g.a)({},e),{},{output:Object(g.a)(Object(g.a)({},y),{},{value:t})})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[h.asset,h.value,c,d,y.asset]),t.length?r.a.createElement("div",{className:"TradeWidget"},r.a.createElement("form",{autoComplete:"off"},r.a.createElement(Ze,{asset:h.asset,type:"input",value:h.value,balance:S,onValueChange:j,onAssetChange:N,onMaxValueSelect:function(e){b((function(e){return Object(g.a)(Object(g.a)({},e),{},{input:Object(g.a)(Object(g.a)({},h),{},{value:qe(t,h.asset)})})})),v(!1)}}),r.a.createElement("div",{className:"arrow-break my-2 ".concat(d?"invalid":"valid")},r.a.createElement(Q.a,{icon:Z.b})),r.a.createElement(Ze,{asset:y.asset,type:"output",value:y.value,balance:A,onValueChange:j,onAssetChange:N,disabled:!0}),p.tradeErrors.length?r.a.createElement(ie,{danger:"danger",messages:p.tradeErrors}):null,r.a.createElement(ae,{submitFunc:function(t){t.preventDefault();var a,n,r,u={userId:c.shrimpy_user_id,accountId:c.currentAccount.id,fromSymbol:h.asset,toSymbol:y.asset,amount:h.value};try{e((a=c.user.username,n=c.currentAccount.id,r=u,function(){var e=Object(l.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SUBMIT_TRADE_START"}),e.prev=1,e.next=4,x.createTrade(a,n,r);case 4:return c=e.sent,t({type:"UPDATE_LATEST_TRADE",trade:c}),e.abrupt("return",t({type:"SUBMIT_TRADE_END"}));case 9:e.prev=9,e.t0=e.catch(1),t(O(e.t0)),t({type:"SUBMIT_TRADE_END"});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))}catch(s){b((function(e){return Object(g.a)(Object(g.a)({},e),{},{tradeErrors:[s]})}))}},textDisabled:"Swap",textPrimary:"Swap",loadingText:"Swapping...",disabled:d,loading:a}))):r.a.createElement("div",{className:"container text-center"},r.a.createElement("h2",null,"Please connect to an account"))}),tt=function(){return r.a.createElement("div",{className:"Trade pt-5 text-center justify-content-center"},r.a.createElement(et,null))},at=function(){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("h2",null,"Coming soon..."))},nt=function(e){var t=e.setToken;return r.a.createElement("div",{className:"Routes"},r.a.createElement(X.d,null,r.a.createElement(X.b,{exact:!0,path:"/"},r.a.createElement(ue,null)),r.a.createElement(X.b,{exact:!0,path:"/login"},r.a.createElement(me,{setToken:t})),r.a.createElement(se,{exact:!0,path:"/exchanges"},r.a.createElement(de,null)),r.a.createElement(se,{exact:!0,path:"/exchanges/:exchangeName"},r.a.createElement(ge,null)),r.a.createElement(se,{exact:!0,path:"/dashboard"},r.a.createElement(Re,null)),r.a.createElement(se,{exact:!0,path:"/automate"},r.a.createElement(ze,null)),r.a.createElement(se,{exact:!0,path:"/trade"},r.a.createElement(tt,null)),r.a.createElement(X.b,{exact:!0,path:"/backtest"},r.a.createElement(at,null)),r.a.createElement(X.a,{to:"/"})))},rt=(a(723),"cfinance-token");var ct=function(){var e=Object(m.c)(),t=b(rt),a=Object(i.a)(t,2),c=a[0],u=a[1];return Object(n.useEffect)((function(){function t(){return(t=Object(l.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c&&(a=Object(p.decode)(c),n=a.username,e(B(n)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[c,e]),r.a.createElement("div",{className:"App"},r.a.createElement(re,{logout:function(){e(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"RESET_ERRORS"}),e.abrupt("return",t({type:"LOGOUT_CURRENT_USER"}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u(null)}}),r.a.createElement("p",{className:"text-center lead mt-3"},"This project is in beta. Use at your own risk."),r.a.createElement(nt,{setToken:u}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ut=a(330),st=a(331),ot=a(197),lt=a(332),it=a.n(lt),mt=a(333),pt=a.n(mt),bt=a(334),Et=a(37),ft={accounts:[],notCurrentAccounts:[],currentAccount:null,user:null,permissions:null,permissionsUpdated:!1,balances:[],balanceHistory:[]};function dt(e){return e.sort((function(e,t){return t.usdValue-e.usdValue}))}var vt=[];function ht(e){return e.sort((function(e,t){return t.exchange-e.exchange}))}var Ot=[];function gt(e){return e.sort((function(e,t){return t.symbol-e.symbol}))}var yt={allUsers:[]};var jt={loading:!1,errors:[]};var Nt={};var St={};var At=Object(Et.combineReducers)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CURRENT_USER":return Object(g.a)(Object(g.a)({},e),{},{user:t.user});case"FETCH_ACCOUNTS":return Object(g.a)(Object(g.a)({},e),{},{accounts:t.accounts});case"FETCH_BALANCES":return Object(g.a)(Object(g.a)({},e),{},{balances:dt(t.balances),totalBalanceUSD:Fe(Object(ke.a)(t.balances))});case"FETCH_BALANCE_HISTORY":return Object(g.a)(Object(g.a)({},e),{},{balanceHistory:t.balanceHistory});case"UPDATE_CURRENT_ACCOUNT":return Object(g.a)(Object(g.a)(Object(g.a)({},e),e.user),{},{currentAccount:t.account});case"START_CREATE_ACCOUNT":return Object(g.a)(Object(g.a)({},e),{},{creatingAccount:!0});case"END_CREATE_ACCOUNT":return Object(g.a)(Object(g.a)({},e),{},{creatingAccount:!1});case"ACCOUNT_CREATED":return Object(g.a)(Object(g.a)({},e),{},{accountId:t.accountId});case"ACCOUNT_DELETED":return Object(g.a)(Object(g.a)({},e),{},{accountDeleted:t.accountId});case"ACCOUNT_CREATED_SUCCESS":return Object(g.a)(Object(g.a)({},e),{},{accountCreated:t.accountName});case"FETCH_PERMISSIONS":case"PERMISSIONS_UPDATED":return Object(g.a)(Object(g.a)({},e),{},{permissions:t.permissions});case"LOGOUT_CURRENT_USER":return ft;case"AUTH_SUCCESS":return Object(g.a)(Object(g.a)({},e),{},{authSuccess:!0});case"USER_DATA_UPDATED":return Object(g.a)(Object(g.a)({},e),{},{userDataUpdatedAt:Date.now()});case"RESET_USER_ACCOUNT_INFO":return Object(g.a)(Object(g.a)({},e),{},{accounts:[],balances:[],balanceHistory:[],notCurrentAccounts:[],currentAccount:null,permissions:null,rebalancePeriod:null,rebalanceStrategy:null});case"FETCH_REBALANCE_PERIOD":case"REBALANCE_PERIOD_UPDATED":return Object(g.a)(Object(g.a)({},e),{},{rebalancePeriod:t.rebalancePeriod});case"REBALANCE_INITIATED":return Object(g.a)(Object(g.a)({},e),{},{rebalanceInitiated:t.message});case"FETCH_REBALANCE_STRATEGY":case"REBALANCE_STRATEGY_UPDATED":return Object(g.a)(Object(g.a)({},e),{},{rebalanceStrategy:t.rebalanceStrategy});default:return e}},exchanges:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_EXCHANGES":return ht(Object(ke.a)(t.exchanges));default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":return Object(g.a)(Object(g.a)({},e),{},{allUsers:t.users});default:return e}},general:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ERRORS":return Object(g.a)(Object(g.a)({},e),{},{errors:t.msgs});case"RESET_ERRORS":return Object(g.a)(Object(g.a)({},e),{},{errors:[]});case"SHOW_SPINNER":return Object(g.a)(Object(g.a)({},e),{},{loading:!0});case"END_SHOW_SPINNER":return Object(g.a)(Object(g.a)({},e),{},{loading:!1});default:return e}},assets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_EXCHANGE_ASSETS":return gt(Object(ke.a)(t.assets));case"LOGOUT_CURRENT_USER":return Ot;default:return e}},trades:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_TRADE_MODAL":return Object(g.a)(Object(g.a)({},e),{},{showTradeModal:!0});case"CLOSE_TRADE_MODAL":return Object(g.a)(Object(g.a)({},e),{},{showTradeModal:!1});case"TRADE_SELECT_INPUT":return Object(g.a)(Object(g.a)({},e),{},{input:Object(g.a)(Object(g.a)({},e.input),{},{symbol:t.symbol})});case"TRADE_SELECT_INPUT_VALUE":return Object(g.a)(Object(g.a)({},e),{},{input:Object(g.a)(Object(g.a)({},e.input),{},{valueNative:t.value})});case"TRADE_SELECT_OUTPUT":return Object(g.a)(Object(g.a)({},e),{},{output:Object(g.a)(Object(g.a)({},e.output),{},{symbol:t.symbol})});case"TRADE_SELECT_OUTPUT_VALUE":return Object(g.a)(Object(g.a)({},e),{},{output:Object(g.a)(Object(g.a)({},e.output),{},{valueNative:t.value})});case"UPDATE_TRADE_DETAILS":return Object(g.a)(Object(g.a)({},e),{},{tradeDetails:t.tradeDetails});case"UPDATE_MODAL_TYPE":return Object(g.a)(Object(g.a)({},e),{},{modalType:t.modalType});case"FETCH_TRADES":return Object(g.a)(Object(g.a)({},e),{},{filledTrades:t.trades});case"UPDATE_LATEST_TRADE":return Object(g.a)(Object(g.a)({},e),{},{latestTrade:t.trade});case"SUBMIT_TRADE_START":return Object(g.a)(Object(g.a)({},e),{},{submittingTrade:!0});case"SUBMIT_TRADE_END":return Object(g.a)(Object(g.a)({},e),{},{submittingTrade:!1});case"LOGOUT_CURRENT_USER":return Nt;default:return e}},rebalance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_REBALANCE_PERIOD_MODAL":return Object(g.a)(Object(g.a)({},e),{},{showRebalancePeriodModal:!0});case"CLOSE_REBALANCE_PERIOD_MODAL":return Object(g.a)(Object(g.a)({},e),{},{showRebalancePeriodModal:!1});case"SHOW_REBALANCE_ASSET_SELECT_MODAL":return Object(g.a)(Object(g.a)({},e),{},{showRebalanceAssetSelectModal:!0});case"CLOSE_REBALANCE_ASSET_SELECT_MODAL":return Object(g.a)(Object(g.a)({},e),{},{showRebalanceAssetSelectModal:!1});default:return e}}}),xt={key:"root",storage:it.a,stateReconciler:pt.a},Tt=Object(ot.a)(xt,At),_t=Object(Et.createStore)(Tt,Object(st.composeWithDevTools)(Object(Et.applyMiddleware)(bt.a))),wt=Object(ot.b)(_t);u.a.render(r.a.createElement(m.a,{store:_t},r.a.createElement(E.a,null,r.a.createElement(ut.a,{loading:null,persistor:wt},r.a.createElement(ct,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[368,1,2]]]);
//# sourceMappingURL=main.82850607.chunk.js.map